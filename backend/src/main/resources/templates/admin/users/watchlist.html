<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>User Watchlist</title>
	<link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet">
</head>
<body>
<div th:replace="partial/navbar :: adminNavbar"></div>
<div class="container mt-4">
<h2 class="text-center">User Watchlist</h2>

<p class="mt-4">
    <strong>Name:</strong>
    <span th:text="${user.fullname}"></span>
</p>

<p>
    <strong>Email:</strong>
    <span th:text="${user.email}"></span>
</p>

<hr>

<table class="table table-striped mt-4">
    <tr>
        <th>#</th>
        <th>Movie</th>
    </tr>

    <tr th:each="w, stat : ${watchlist}">
        <td th:text="${stat.count}"></td>
        <td th:text="${w.movie != null ? w.movie.movieName : 'Movie deleted'}"></td>
    </tr>

    <tr th:if="${watchlist.isEmpty()}">
        <td colspan="2">No movies in watchlist</td>
    </tr>
</table>

<br>
<a href="/admin/users" class="btn btn-primary">â¬… Back to Users</a>
</div>

</body>
</html>
